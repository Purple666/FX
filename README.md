# 値動きのみでFXに勝てるかDeepLeaningに推測させる

## 概要
DeepLearningを使って、過去の値動きから次の瞬間の価格を予測している記事はよく見かける

しかし、一時的な価格だけ予測できたところでトレードで勝つことはできない

必要なのは、特定の期間内においてどういった値動きをして、最終的にどのくらい上がる（もしくは下がる）のかを知ることである

では「特定の期間」とはどのくらいの期間を指すのか？

それはトレードを行う人の性格やトレードスタイル、戦略等によって変わるため、現状明確な正解はないと思われる

本来は、利益を最大化させることのできるトレード期間も合わせて学習できれば良いが、計算量が跳ね上がる上、本当に正解があるかどうかも分からないため、ここではそういった議論は行わない

そこで今回は、以下のようなトレード戦略を採用することにする

- チャートは1分足を採用（足が長くなるほど経済的な影響を受けやすくなると考えたため）
- スプレッドは考慮しない
- 「買い」を入れるタイミングで過去20期間分（20分間分）のATRを算出
    - 算出したATR値を`atr1`とする
- 「買い」を入れたタイミングでの価格をprice1とする
- 利確価格を`price1 + 5*atr1`, 損切価格を`price1 - 3*atr1`とする
- 以降、1分ごとに次の方法で手仕舞いを行う
    - 価格が利確価格以上になったら利確する
    - 価格が損切価格以下になったら損切する
    - 価格が`price1 + atr1`以上になったら、利確・損切価格を上にずらす（トレーリングストップ）
        - 新しい利確価格：`その1分足の終値 + 5*atr1`
        - 新しい損切価格：`その1分足の終値 - 3*atr1`

以上のトレード戦略をとった場合、どのようなタイミングで「買い」を入れれば勝てるのかを予測する


## チャートデータ

- チャートデータはTickStoryで取得
- 通貨ペアはUSD/JOY
- 過去5年分の1分足データを学習対象とする


## 環境
- CPU: Intel(R) Core(TM) i7-7700 CPU @ 3.60GHz
- Memory: 16GB DDR2
- GPU: NVIDIA GeForce GTX 1070
- Python 3.5
    - DeepLearningライブラリとして Keras（バックグラウンド: TensorFlow）採用


## Jupyter Notebook
[predict_fx_trade.ipynb](./predict_fx_trade.ipynb)に結果をまとめた

色々試行錯誤したときのデータは[experimentsディレクトリ](./experiments)にまとめてある
